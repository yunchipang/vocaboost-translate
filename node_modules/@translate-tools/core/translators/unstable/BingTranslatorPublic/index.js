"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BingTranslatorPublic = void 0;
var _BaseTranslator = require("../../../util/BaseTranslator");
var _Multiplexor = require("../../../lib/Multiplexor");
var _fetchResponseToJson = require("../../../lib/fetchResponseToJson");
var _getConfig = require("./getConfig");
var __extends = void 0 && (void 0).__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
    };
    return extendStatics(d, b);
  };
  return function (d, b) {
    if (typeof b !== "function" && b !== null) throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
var __assign = void 0 && (void 0).__assign || function () {
  __assign = Object.assign || function (t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
    }
    return t;
  };
  return __assign.apply(this, arguments);
};
var __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator = void 0 && (void 0).__generator || function (thisArg, body) {
  var _ = {
      label: 0,
      sent: function () {
        if (t[0] & 1) throw t[1];
        return t[1];
      },
      trys: [],
      ops: []
    },
    f,
    y,
    t,
    g;
  return g = {
    next: verb(0),
    "throw": verb(1),
    "return": verb(2)
  }, typeof Symbol === "function" && (g[Symbol.iterator] = function () {
    return this;
  }), g;
  function verb(n) {
    return function (v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return {
            value: op[1],
            done: false
          };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return {
      value: op[0] ? op[1] : void 0,
      done: true
    };
  }
};
/**
 * This translator is very slow for translate page, but may use to translate user input
 */
var BingTranslatorPublic = /** @class */function (_super) {
  __extends(BingTranslatorPublic, _super);
  function BingTranslatorPublic() {
    var _this = _super !== null && _super.apply(this, arguments) || this;
    _this.mtp = new _Multiplexor.Multiplexor({
      tokenStart: 'ðŸ˜€',
      tokenEnd: 'ðŸ˜ƒ'
    });
    return _this;
  }
  BingTranslatorPublic.isSupportedAutoFrom = function () {
    return true;
  };
  BingTranslatorPublic.getSupportedLanguages = function () {
    // eslint-disable
    // prettier-ignore
    return ['en', 'ar', 'af', 'bg', 'cy', 'hu', 'vi', 'el', 'da', 'he', 'id', 'is', 'es', 'it', 'ca', 'ko', 'ht', 'lv', 'lt', 'mg', 'ms', 'mt', 'de', 'nl', 'nb', 'fa', 'pl', 'pt', 'ro', 'ru', 'sm', 'sk', 'sl', 'sw', 'ty', 'th', 'ta', 'te', 'to', 'tr', 'uk', 'ur', 'fj', 'fi', 'fr', 'hi', 'hr', 'cs', 'sv', 'et', 'ja'];
    // eslint-enable
  };

  BingTranslatorPublic.prototype.getLengthLimit = function () {
    return 3000;
  };
  BingTranslatorPublic.prototype.getRequestsTimeout = function () {
    return 500;
  };
  BingTranslatorPublic.prototype.checkLimitExceeding = function (text) {
    if (Array.isArray(text)) {
      var encodedText = this.mtp.encode(text.map(function (text, id) {
        return {
          text: text,
          id: '' + id
        };
      }));
      var extra = encodedText.length - this.getLengthLimit();
      return extra > 0 ? extra : 0;
    } else {
      var extra = text.length - this.getLengthLimit();
      return extra > 0 ? extra : 0;
    }
  };
  BingTranslatorPublic.prototype.encodeObject = function (obj) {
    return Object.keys(obj).map(function (key) {
      return key + '=' + encodeURIComponent(obj[key]);
    }).join('&');
  };
  // This fn was copy from toolKit for independentcy
  BingTranslatorPublic.prototype.findInObj = function (obj, path, notFound) {
    if (notFound === void 0) {
      notFound = undefined;
    }
    try {
      return path.reduce(function (x, y) {
        if (y in x) {
          return x[y];
        } else {
          throw Error('Not found');
        }
      }, obj);
    } catch (e) {
      return notFound;
    }
  };
  BingTranslatorPublic.prototype.translate = function (text, from, to) {
    return __awaiter(this, void 0, void 0, function () {
      var fixedFrom, _a, IIG, IID, key, token;
      var _this = this;
      return __generator(this, function (_b) {
        switch (_b.label) {
          case 0:
            fixedFrom = from === 'auto' ? 'auto-detect' : from;
            return [4 /*yield*/, (0, _getConfig.getConfig)()];
          case 1:
            _a = _b.sent(), IIG = _a.IIG, IID = _a.IID, key = _a.key, token = _a.token;
            return [2 /*return*/, fetch(this.wrapUrlToCorsProxy("https://www.bing.com/ttranslatev3?isVertical=1&=&IG=".concat(IIG, "&=&IID=").concat(IID)), {
              method: 'POST',
              headers: __assign({
                'Content-type': 'application/x-www-form-urlencoded'
              }, this.options.headers),
              body: '&' + this.encodeObject({
                fromLang: fixedFrom,
                to: to,
                text: text,
                token: token,
                key: key
              })
            }).then(_fetchResponseToJson.fetchResponseToJson).then(function (rsp) {
              var text = _this.findInObj(rsp, [0, 'translations', 0, 'text']);
              if (typeof text === 'string') {
                return text;
              } else {
                if ('StatusCode' in rsp) {
                  throw new Error("Unknown error. Code ".concat(rsp['StatusCode']));
                } else {
                  throw new Error("Unknown error");
                }
              }
            })];
        }
      });
    });
  };
  BingTranslatorPublic.prototype.translateBatch = function (text, langFrom, langTo) {
    var _this = this;
    var encodedText = this.mtp.encode(text.map(function (text, id) {
      return {
        text: text,
        id: '' + id
      };
    }));
    return this.translate(encodedText, langFrom, langTo).then(function (rawTranslate) {
      var result = Array(text.length);
      var decodedMap = _this.mtp.decode(rawTranslate);
      decodedMap.forEach(function (_a) {
        var id = _a.id,
          text = _a.text;
        var index = +id;
        result[index] = text;
      });
      return result;
    });
  };
  BingTranslatorPublic.translatorName = 'BingTranslator (public)';
  return BingTranslatorPublic;
}(_BaseTranslator.BaseTranslator);
exports.BingTranslatorPublic = BingTranslatorPublic;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsYXRvcnMvdW5zdGFibGUvQmluZ1RyYW5zbGF0b3JQdWJsaWMvaW5kZXguanMiLCJuYW1lcyI6WyJfQmFzZVRyYW5zbGF0b3IiLCJyZXF1aXJlIiwiX011bHRpcGxleG9yIiwiX2ZldGNoUmVzcG9uc2VUb0pzb24iLCJfZ2V0Q29uZmlnIiwiQmluZ1RyYW5zbGF0b3JQdWJsaWMiLCJfc3VwZXIiLCJfX2V4dGVuZHMiLCJfdGhpcyIsImFwcGx5IiwiYXJndW1lbnRzIiwibXRwIiwiTXVsdGlwbGV4b3IiLCJ0b2tlblN0YXJ0IiwidG9rZW5FbmQiLCJpc1N1cHBvcnRlZEF1dG9Gcm9tIiwiZ2V0U3VwcG9ydGVkTGFuZ3VhZ2VzIiwicHJvdG90eXBlIiwiZ2V0TGVuZ3RoTGltaXQiLCJnZXRSZXF1ZXN0c1RpbWVvdXQiLCJjaGVja0xpbWl0RXhjZWVkaW5nIiwidGV4dCIsIkFycmF5IiwiaXNBcnJheSIsImVuY29kZWRUZXh0IiwiZW5jb2RlIiwibWFwIiwiaWQiLCJleHRyYSIsImxlbmd0aCIsImVuY29kZU9iamVjdCIsIm9iaiIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiZmluZEluT2JqIiwicGF0aCIsIm5vdEZvdW5kIiwidW5kZWZpbmVkIiwicmVkdWNlIiwieCIsInkiLCJFcnJvciIsImUiLCJ0cmFuc2xhdGUiLCJmcm9tIiwidG8iLCJmaXhlZEZyb20iLCJnZXRDb25maWciLCJfYSIsIl9iIiwic2VudCIsIklJRyIsIklJRCIsInRva2VuIiwiZmV0Y2giLCJ3cmFwVXJsVG9Db3JzUHJveHkiLCJjb25jYXQiLCJtZXRob2QiLCJoZWFkZXJzIiwiX19hc3NpZ24iLCJvcHRpb25zIiwiYm9keSIsImZyb21MYW5nIiwidGhlbiIsImZldGNoUmVzcG9uc2VUb0pzb24iLCJyc3AiLCJ0cmFuc2xhdGVCYXRjaCIsImxhbmdGcm9tIiwibGFuZ1RvIiwicmF3VHJhbnNsYXRlIiwicmVzdWx0IiwiZGVjb2RlZE1hcCIsImRlY29kZSIsImZvckVhY2giLCJpbmRleCIsInRyYW5zbGF0b3JOYW1lIiwiQmFzZVRyYW5zbGF0b3IiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidHJhbnNsYXRvcnMvdW5zdGFibGUvQmluZ1RyYW5zbGF0b3JQdWJsaWMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbGFuZ0NvZGUsIGxhbmdDb2RlV2l0aEF1dG8gfSBmcm9tICcuLi8uLi8uLi90eXBlcy9UcmFuc2xhdG9yJztcbmltcG9ydCB7IEJhc2VUcmFuc2xhdG9yIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9CYXNlVHJhbnNsYXRvcic7XG5pbXBvcnQgeyBNdWx0aXBsZXhvciB9IGZyb20gJy4uLy4uLy4uL2xpYi9NdWx0aXBsZXhvcic7XG5pbXBvcnQgeyBmZXRjaFJlc3BvbnNlVG9Kc29uIH0gZnJvbSAnLi4vLi4vLi4vbGliL2ZldGNoUmVzcG9uc2VUb0pzb24nO1xuXG5pbXBvcnQgeyBnZXRDb25maWcgfSBmcm9tICcuL2dldENvbmZpZyc7XG5cbi8qKlxuICogVGhpcyB0cmFuc2xhdG9yIGlzIHZlcnkgc2xvdyBmb3IgdHJhbnNsYXRlIHBhZ2UsIGJ1dCBtYXkgdXNlIHRvIHRyYW5zbGF0ZSB1c2VyIGlucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBCaW5nVHJhbnNsYXRvclB1YmxpYyBleHRlbmRzIEJhc2VUcmFuc2xhdG9yIHtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSB0cmFuc2xhdG9yTmFtZSA9ICdCaW5nVHJhbnNsYXRvciAocHVibGljKSc7XG5cblx0cHVibGljIHN0YXRpYyBpc1N1cHBvcnRlZEF1dG9Gcm9tKCkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBnZXRTdXBwb3J0ZWRMYW5ndWFnZXMoKTogbGFuZ0NvZGVbXSB7XG5cdFx0Ly8gZXNsaW50LWRpc2FibGVcblx0XHQvLyBwcmV0dGllci1pZ25vcmVcblx0XHRyZXR1cm4gW1xuXHRcdFx0J2VuJywgJ2FyJywgJ2FmJywgJ2JnJywgJ2N5JywgJ2h1JywgJ3ZpJywgJ2VsJywgJ2RhJywgJ2hlJyxcblx0XHRcdCdpZCcsICdpcycsICdlcycsICdpdCcsICdjYScsICdrbycsICdodCcsICdsdicsICdsdCcsICdtZycsXG5cdFx0XHQnbXMnLCAnbXQnLCAnZGUnLCAnbmwnLCAnbmInLCAnZmEnLCAncGwnLCAncHQnLCAncm8nLCAncnUnLFxuXHRcdFx0J3NtJywgJ3NrJywgJ3NsJywgJ3N3JywgJ3R5JywgJ3RoJywgJ3RhJywgJ3RlJywgJ3RvJywgJ3RyJyxcblx0XHRcdCd1aycsICd1cicsICdmaicsICdmaScsICdmcicsICdoaScsICdocicsICdjcycsICdzdicsICdldCcsXG5cdFx0XHQnamEnLFxuXHRcdF07XG5cdFx0Ly8gZXNsaW50LWVuYWJsZVxuXHR9XG5cblx0cHVibGljIGdldExlbmd0aExpbWl0KCkge1xuXHRcdHJldHVybiAzMDAwO1xuXHR9XG5cblx0cHVibGljIGdldFJlcXVlc3RzVGltZW91dCgpIHtcblx0XHRyZXR1cm4gNTAwO1xuXHR9XG5cblx0cHVibGljIGNoZWNrTGltaXRFeGNlZWRpbmcodGV4dDogc3RyaW5nIHwgc3RyaW5nW10pIHtcblx0XHRpZiAoQXJyYXkuaXNBcnJheSh0ZXh0KSkge1xuXHRcdFx0Y29uc3QgZW5jb2RlZFRleHQgPSB0aGlzLm10cC5lbmNvZGUoXG5cdFx0XHRcdHRleHQubWFwKCh0ZXh0LCBpZCkgPT4gKHsgdGV4dCwgaWQ6ICcnICsgaWQgfSkpLFxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IGV4dHJhID0gZW5jb2RlZFRleHQubGVuZ3RoIC0gdGhpcy5nZXRMZW5ndGhMaW1pdCgpO1xuXHRcdFx0cmV0dXJuIGV4dHJhID4gMCA/IGV4dHJhIDogMDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgZXh0cmEgPSB0ZXh0Lmxlbmd0aCAtIHRoaXMuZ2V0TGVuZ3RoTGltaXQoKTtcblx0XHRcdHJldHVybiBleHRyYSA+IDAgPyBleHRyYSA6IDA7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBlbmNvZGVPYmplY3Qob2JqOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+KSB7XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKG9iailcblx0XHRcdC5tYXAoKGtleSkgPT4ge1xuXHRcdFx0XHRyZXR1cm4ga2V5ICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtrZXldKTtcblx0XHRcdH0pXG5cdFx0XHQuam9pbignJicpO1xuXHR9XG5cblx0Ly8gVGhpcyBmbiB3YXMgY29weSBmcm9tIHRvb2xLaXQgZm9yIGluZGVwZW5kZW50Y3lcblx0cHJpdmF0ZSBmaW5kSW5PYmoob2JqOiBhbnksIHBhdGg6IEFycmF5PG51bWJlciB8IHN0cmluZz4sIG5vdEZvdW5kID0gdW5kZWZpbmVkKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBwYXRoLnJlZHVjZSgoeCwgeSkgPT4ge1xuXHRcdFx0XHRpZiAoeSBpbiB4KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHhbeV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgRXJyb3IoJ05vdCBmb3VuZCcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBvYmopO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBub3RGb3VuZDtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgdHJhbnNsYXRlKHRleHQ6IHN0cmluZywgZnJvbTogbGFuZ0NvZGVXaXRoQXV0bywgdG86IGxhbmdDb2RlKSB7XG5cdFx0Y29uc3QgZml4ZWRGcm9tID0gZnJvbSA9PT0gJ2F1dG8nID8gJ2F1dG8tZGV0ZWN0JyA6IGZyb207XG5cblx0XHRjb25zdCB7IElJRywgSUlELCBrZXksIHRva2VuIH0gPSBhd2FpdCBnZXRDb25maWcoKTtcblxuXHRcdHJldHVybiBmZXRjaChcblx0XHRcdHRoaXMud3JhcFVybFRvQ29yc1Byb3h5KFxuXHRcdFx0XHRgaHR0cHM6Ly93d3cuYmluZy5jb20vdHRyYW5zbGF0ZXYzP2lzVmVydGljYWw9MSY9JklHPSR7SUlHfSY9JklJRD0ke0lJRH1gLFxuXHRcdFx0KSxcblx0XHRcdHtcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHQnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG5cdFx0XHRcdFx0Li4udGhpcy5vcHRpb25zLmhlYWRlcnMsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJvZHk6XG5cdFx0XHRcdFx0JyYnICtcblx0XHRcdFx0XHR0aGlzLmVuY29kZU9iamVjdCh7XG5cdFx0XHRcdFx0XHRmcm9tTGFuZzogZml4ZWRGcm9tLFxuXHRcdFx0XHRcdFx0dG8sXG5cdFx0XHRcdFx0XHR0ZXh0LFxuXHRcdFx0XHRcdFx0dG9rZW4sXG5cdFx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdFx0fSksXG5cdFx0XHR9LFxuXHRcdClcblx0XHRcdC50aGVuKGZldGNoUmVzcG9uc2VUb0pzb24pXG5cdFx0XHQudGhlbigocnNwKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHRleHQgPSB0aGlzLmZpbmRJbk9iaihyc3AsIFswLCAndHJhbnNsYXRpb25zJywgMCwgJ3RleHQnXSk7XG5cdFx0XHRcdGlmICh0eXBlb2YgdGV4dCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGV4dDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoJ1N0YXR1c0NvZGUnIGluIHJzcCkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGVycm9yLiBDb2RlICR7cnNwWydTdGF0dXNDb2RlJ119YCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgVW5rbm93biBlcnJvcmApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIHJlYWRvbmx5IG10cCA9IG5ldyBNdWx0aXBsZXhvcih7IHRva2VuU3RhcnQ6ICfwn5iAJywgdG9rZW5FbmQ6ICfwn5iDJyB9KTtcblx0cHVibGljIHRyYW5zbGF0ZUJhdGNoKHRleHQ6IHN0cmluZ1tdLCBsYW5nRnJvbTogbGFuZ0NvZGVXaXRoQXV0bywgbGFuZ1RvOiBsYW5nQ29kZSkge1xuXHRcdGNvbnN0IGVuY29kZWRUZXh0ID0gdGhpcy5tdHAuZW5jb2RlKFxuXHRcdFx0dGV4dC5tYXAoKHRleHQsIGlkKSA9PiAoeyB0ZXh0LCBpZDogJycgKyBpZCB9KSksXG5cdFx0KTtcblxuXHRcdHJldHVybiB0aGlzLnRyYW5zbGF0ZShlbmNvZGVkVGV4dCwgbGFuZ0Zyb20sIGxhbmdUbykudGhlbigocmF3VHJhbnNsYXRlKSA9PiB7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBBcnJheTxzdHJpbmcgfCBudWxsPih0ZXh0Lmxlbmd0aCk7XG5cblx0XHRcdGNvbnN0IGRlY29kZWRNYXAgPSB0aGlzLm10cC5kZWNvZGUocmF3VHJhbnNsYXRlKTtcblx0XHRcdGRlY29kZWRNYXAuZm9yRWFjaCgoeyBpZCwgdGV4dCB9KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGluZGV4ID0gK2lkO1xuXHRcdFx0XHRyZXN1bHRbaW5kZXhdID0gdGV4dDtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0pO1xuXHR9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLGVBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLG9CQUFBLEdBQUFGLE9BQUE7QUFFQSxJQUFBRyxVQUFBLEdBQUFILE9BQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7OztBQUdBLElBQUFJLG9CQUFBLDBCQUFBQyxNQUFBO0VBQTBD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
